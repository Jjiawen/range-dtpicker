<template>
	<view>
		<view @click="showPicker">{{chooseDate}}</view>
		<rangeDatePick 
			:show="isShow"
			@showchange="showchange"
			start="1900-01"
			end="2200-12"
			:value="value"
			@change="bindChange"
			@cancel="bindCancel"
			themeColor="#4C83D6"
			fields="month"
		></rangeDatePick>
	</view>
</template>

<script>
    import rangeDatePick from '@/components/range-dtpicker/range-dtpicker.vue';
	export default {
		data() {
            const currentDate = this.getDate({
               format: true
            })
			return {
                nowDate:currentDate,//获取当前时间
				isShow:false,
				value:[],
				chooseDate:"选择时间段"
			}
		},
		components:{
			rangeDatePick
		},
		methods: {
			showPicker(e){
				this.isShow=true
			},
			showchange(){
				this.isShow=!this.isShow;
			},
			bindChange(data){
				console.log(data)
				this.chooseDate=data[0]+"至"+data[1]
			},
			bindCancel(e){
				console.log(e)
			},
			getDate(type) {
            	const date = new Date();
            	let year = date.getFullYear()-60;
            	let month = date.getMonth() + 1;
            	let day = date.getDate();
            	month = month > 9 ? month : '0' + month;
            	day = day > 9 ? day : '0' + day;
            	return `${year}-${month}-${day}`;
            }
		}
	}
</script>

<style>

</style>
